<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FBC Creators - Seoul Fashion & Culture Magazine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <style>
        .swiper-pagination-bullet {
            background: white;
            opacity: 0.5;
        }
        .swiper-pagination-bullet-active {
            opacity: 1;
        }
        .hero-swiper .swiper-slide {
            height: 600px;
        }
        @media (max-width: 768px) {
            .hero-swiper .swiper-slide {
                height: 400px;
            }
        }
    </style>
</head>
<body class="bg-white">
    <!-- Navigation -->
    <nav class="bg-black text-white sticky top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="text-2xl font-bold tracking-wider">
                    <a href="index.html">FBC CREATORS</a>
                </div>
                <div class="hidden md:flex space-x-8">
                    <a href="fashion.html" class="hover:text-gray-300 transition" data-i18n="nav.fashion">FASHION</a>
                    <a href="beauty.html" class="hover:text-gray-300 transition" data-i18n="nav.beauty">BEAUTY</a>
                    <a href="life.html" class="hover:text-gray-300 transition" data-i18n="nav.life">LIFE</a>
                    <a href="districts.html" class="hover:text-gray-300 transition" data-i18n="nav.districts">DISTRICTS</a>
                    <a href="about.html" class="hover:text-gray-300 transition" data-i18n="nav.about">ABOUT</a>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="langToggle" class="px-3 py-1 border border-white hover:bg-white hover:text-black transition">
                        EN
                    </button>
                    <button class="md:hidden">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Slider -->
    <div class="hero-swiper swiper">
        <div class="swiper-wrapper" id="heroSlider">
            <!-- Hero slides will be loaded here -->
        </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-prev !text-white"></div>
        <div class="swiper-button-next !text-white"></div>
    </div>

    <!-- Today's Stories -->
    <section class="container mx-auto px-4 py-16">
        <h2 class="text-3xl font-bold mb-8" data-i18n="section.todayStories">Today's Stories</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8" id="todayStories">
            <!-- Today's stories will be loaded here -->
        </div>
    </section>

    <!-- Must Read -->
    <section class="bg-gray-50 py-16">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold mb-8" data-i18n="section.mustRead">Must Read</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8" id="mustRead">
                <!-- Must read stories will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Newsletter -->
    <section class="bg-black text-white py-16">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-3xl font-bold mb-4" data-i18n="newsletter.title">Stay Updated</h2>
            <p class="mb-8 text-gray-300" data-i18n="newsletter.description">Subscribe to our newsletter for the latest in Seoul fashion and culture</p>
            <div class="max-w-md mx-auto flex gap-4">
                <input type="email" placeholder="Your email" class="flex-1 px-4 py-3 bg-white text-black" data-i18n-placeholder="newsletter.placeholder">
                <button class="px-8 py-3 bg-white text-black font-bold hover:bg-gray-200 transition" data-i18n="newsletter.subscribe">
                    Subscribe
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">FBC CREATORS</h3>
                    <p class="text-gray-400" data-i18n="footer.tagline">Seoul's Fashion & Culture</p>
                </div>
                <div>
                    <h4 class="font-bold mb-4" data-i18n="footer.explore">Explore</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="fashion.html" class="hover:text-white" data-i18n="nav.fashion">Fashion</a></li>
                        <li><a href="beauty.html" class="hover:text-white" data-i18n="nav.beauty">Beauty</a></li>
                        <li><a href="life.html" class="hover:text-white" data-i18n="nav.life">Life</a></li>
                        <li><a href="districts.html" class="hover:text-white" data-i18n="nav.districts">Districts</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4" data-i18n="footer.connect">Connect</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-white">Instagram</a></li>
                        <li><a href="#" class="hover:text-white">Twitter</a></li>
                        <li><a href="#" class="hover:text-white">Facebook</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4" data-i18n="footer.about">About</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="about.html" class="hover:text-white" data-i18n="footer.aboutUs">About Us</a></li>
                        <li><a href="#" class="hover:text-white" data-i18n="footer.contact">Contact</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-800 pt-8 text-center text-gray-400">
                <p>&copy; 2025 FBC Creators. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // i18n translations
        const translations = {
            en: {
                nav: {
                    fashion: 'FASHION',
                    beauty: 'BEAUTY',
                    life: 'LIFE',
                    districts: 'DISTRICTS',
                    about: 'ABOUT'
                },
                section: {
                    todayStories: "Today's Stories",
                    mustRead: "Must Read"
                },
                newsletter: {
                    title: "Stay Updated",
                    description: "Subscribe to our newsletter for the latest in Seoul fashion and culture",
                    placeholder: "Your email",
                    subscribe: "Subscribe"
                },
                footer: {
                    tagline: "Seoul's Fashion & Culture",
                    explore: "Explore",
                    connect: "Connect",
                    about: "About",
                    aboutUs: "About Us",
                    contact: "Contact"
                }
            },
            ko: {
                nav: {
                    fashion: '패션',
                    beauty: '뷰티',
                    life: '라이프',
                    districts: '지역',
                    about: '소개'
                },
                section: {
                    todayStories: "오늘의 스토리",
                    mustRead: "필독 기사"
                },
                newsletter: {
                    title: "최신 소식 받기",
                    description: "서울 패션과 문화의 최신 소식을 뉴스레터로 받아보세요",
                    placeholder: "이메일 주소",
                    subscribe: "구독하기"
                },
                footer: {
                    tagline: "서울 패션 & 문화",
                    explore: "둘러보기",
                    connect: "소셜",
                    about: "정보",
                    aboutUs: "소개",
                    contact: "연락처"
                }
            }
        };

        // Language management - 세션스토리지 우선, 없으면 시스템 언어 사용
        let currentLang = sessionStorage.getItem('language') || (navigator.language.startsWith('ko') ? 'ko' : 'en');

        function setLanguage(lang) {
            currentLang = lang;
            sessionStorage.setItem('language', lang);
            document.getElementById('langToggle').textContent = lang === 'en' ? 'EN' : '한국어';

            // Update all i18n elements
            document.querySelectorAll('[data-i18n]').forEach(elem => {
                const key = elem.getAttribute('data-i18n');
                const keys = key.split('.');
                let value = translations[lang];
                keys.forEach(k => value = value[k]);
                elem.textContent = value;
            });

            // Update placeholder
            document.querySelectorAll('[data-i18n-placeholder]').forEach(elem => {
                const key = elem.getAttribute('data-i18n-placeholder');
                const keys = key.split('.');
                let value = translations[lang];
                keys.forEach(k => value = value[k]);
                elem.placeholder = value;
            });

            // Reload content
            loadContent();
        }

        // Initialize language on page load
        document.addEventListener('DOMContentLoaded', () => {
            setLanguage(currentLang);

            document.getElementById('langToggle').addEventListener('click', () => {
                setLanguage(currentLang === 'en' ? 'ko' : 'en');
            });
        });

        // Data sources mapping
        const dataSources = {
            fashion: 'fashion.json',
            beauty: 'beauty.json',
            life: 'life.json',
            districts: 'districts.json'
        };

        // Load and render content
        async function loadContent() {
            try {
                // Load pinned content configuration
                const pinnedResponse = await fetch('pinned.json');
                const pinnedData = await pinnedResponse.json();

                // Load all data sources
                const allData = {};
                for (const [key, file] of Object.entries(dataSources)) {
                    const response = await fetch(file);
                    allData[key] = await response.json();
                }

                // Render hero slider
                renderHeroSlider(pinnedData.hero, allData);

                // Render today's stories
                renderTodayStories(pinnedData.todayStories, allData);

                // Render must read
                renderMustRead(pinnedData.mustRead, allData);

            } catch (error) {
                console.error('Error loading content:', error);
            }
        }

        function getArticleById(id, allData) {
            const source = id.substring(0, 2);
            const sourceMap = {
                'fs': 'fashion',
                'by': 'beauty',
                'lf': 'life',
                'ds': 'districts'
            };

            const dataKey = sourceMap[source];
            if (dataKey && allData[dataKey]) {
                return allData[dataKey].find(article => article.id === id);
            }
            return null;
        }

        function renderHeroSlider(heroIds, allData) {
            const container = document.getElementById('heroSlider');
            container.innerHTML = heroIds.map(id => {
                const article = getArticleById(id, allData);
                if (!article) return '';

                const title = currentLang === 'en' ? article.title_en : article.title_ko;
                const description = currentLang === 'en' ? article.description_en : article.description_ko;

                return `
                    <div class="swiper-slide relative cursor-pointer" onclick="window.location.href='article.html?id=${article.id}'">
                        <img src="${article.image}" alt="${title}" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"></div>
                        <div class="absolute bottom-0 left-0 right-0 p-8 text-white">
                            <div class="container mx-auto">
                                <span class="text-sm font-bold mb-2 inline-block">${article.category.toUpperCase()}</span>
                                <h2 class="text-4xl font-bold mb-4">${title}</h2>
                                <p class="text-lg mb-4">${description}</p>
                                <span class="text-sm">${article.date}</span>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');

            // Initialize Swiper
            new Swiper('.hero-swiper', {
                slidesPerView: 1,
                spaceBetween: 0,
                loop: true,
                autoplay: {
                    delay: 5000,
                    disableOnInteraction: false,
                },
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
            });
        }

        function renderTodayStories(storyIds, allData) {
            const container = document.getElementById('todayStories');
            container.innerHTML = storyIds.map(id => {
                const article = getArticleById(id, allData);
                if (!article) return '';

                const title = currentLang === 'en' ? article.title_en : article.title_ko;
                const description = currentLang === 'en' ? article.description_en : article.description_ko;

                return `
                    <article class="group cursor-pointer" onclick="window.location.href='article.html?id=${article.id}'">
                        <div class="overflow-hidden mb-4">
                            <img src="${article.image}" alt="${title}"
                                 class="w-full h-64 object-cover transform group-hover:scale-105 transition duration-500">
                        </div>
                        <span class="text-sm font-bold text-gray-600 mb-2 inline-block">${article.category.toUpperCase()}</span>
                        <h3 class="text-xl font-bold mb-2 group-hover:text-gray-600 transition">${title}</h3>
                        <p class="text-gray-600 mb-2">${description}</p>
                        <span class="text-sm text-gray-400">${article.date}</span>
                    </article>
                `;
            }).join('');
        }

        function renderMustRead(readIds, allData) {
            const container = document.getElementById('mustRead');
            container.innerHTML = readIds.map(id => {
                const article = getArticleById(id, allData);
                if (!article) return '';

                const title = currentLang === 'en' ? article.title_en : article.title_ko;

                return `
                    <article class="group cursor-pointer" onclick="window.location.href='article.html?id=${article.id}'">
                        <div class="overflow-hidden mb-4">
                            <img src="${article.image}" alt="${title}"
                                 class="w-full h-48 object-cover transform group-hover:scale-105 transition duration-500">
                        </div>
                        <span class="text-sm font-bold text-gray-600 mb-2 inline-block">${article.category.toUpperCase()}</span>
                        <h3 class="text-lg font-bold mb-2 group-hover:text-gray-600 transition">${title}</h3>
                        <span class="text-sm text-gray-400">${article.date}</span>
                    </article>
                `;
            }).join('');
        }
    </script>
</body>
</html>
